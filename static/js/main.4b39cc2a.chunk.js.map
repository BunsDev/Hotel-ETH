{"version":3,"sources":["features/splash/splashAPI.js","features/splash/splashSlice.js","features/splash/components/WalletChip.js","features/splash/components/WelcomeMessage.js","features/splash/components/NoEthereumError.js","features/splash/components/InvalidNetworkError.js","features/splash/Splash.js","features/bookingCalendar/bookingCalendarSlice.js","features/useTokens/useTokenSlice.js","features/bookingCalendar/components/UserAppointments.js","features/bookingCalendar/components/TouchCellWrapper.js","features/bookingCalendar/BookingCalendar.js","features/useTokens/components/BuyTokens.js","features/useTokens/components/RedeemToken.js","features/useTokens/UseToken.js","features/dappWrapper/DappWrapper.js","App.js","app/store.js","serviceWorker.js","index.js","features/useTokens/UseTokens.module.css","features/splash/Splash.module.css","features/bookingCalendar/BookingCalendar.module.css"],"names":["findNetwork","chainId","rinkebyAddress","kovanAddress","localAddress","connectWallet","a","window","ethereum","request","method","address","VALID_CHAINS","fetchUserBalance","createAsyncThunk","thunkAPI","contractABI","selectHotelABI","getState","getTokenBalance","data","toNumber","console","log","err","connectEthereum","arg","dispatch","setValidNetwork","includes","Number","initialState","showCalendar","userAddress","provider","userBalance","validChain","splashSlice","createSlice","name","reducers","toggleCalendar","state","action","payload","resetState","extraReducers","builder","addCase","fulfilled","actions","hasEthereum","selectShowCalendar","splash","selectValidChain","selectUserAddress","selectUserBalance","selectContractAndProvider","createSelector","eth","ethers","providers","Web3Provider","contract","Contract","HotelArtifact","abi","getSigner","setContractABI","WalletChip","handleDelete","Fade","in","Boolean","className","styles","chip","Chip","color","label","icon","variant","onDelete","AccountBalanceWallet","deleteIcon","Close","WelcomeMessage","handleConnectEthereum","disableButtons","timeout","Grid","textContainer","container","justifyContent","alignItems","direction","Typography","text","Button","disabled","onClick","links","align-items","href","aria-label","GitHub","fontSize","title","Email","LinkedIn","NoEthereumError","ethExists","open","setOpen","Collapse","Alert","severity","IconButton","size","sx","mb","target","rel","InvalidNetworkError","validNetwork","Splash","useDebounce","useSelector","useDispatch","useEffect","on","undefined","location","reload","wrapper","warning","_incrementTime","t","i","Date","getTimezoneOffset","_calcBN","hex","BigNumber","from","getRangeAvailability","timestamp","numDays","obj","eventStartIndex","eventNumTicker","forEach","index","startsWith","end","toLowerCase","allDay","start","events","Object","keys","map","key","prevCallData","fetchUserBookings","getAppointmentsByUser","flatMap","checkIn","checkOut","bookingCalendar","userBookings","showUserBookings","toggleUserBookings","selectMonthlySchedule","calendar","selectUserBookings","selectPrevCallData","selectShowUserBookings","GAS_LIMIT","_refreshUserBalance","_refreshUserBookings","_refreshCalendar","getBookingTokenPrice","bookingTokenPrice","usdPrice","utils","getEthPriceForTokens","ethPrice","formatEther","buyNumTokens","num","currEthPrice","buyTokens","value","gasLimit","tx","wait","status","Error","checkTokenRange","callStatic","bookAppointment","redeemTokens","refundTokens","parseEther","deleteIndex","refundAppointment","useTokenSlice","showModal","showSpendTokens","tokenLoading","overlapCheckLoading","tokenPrice","placeholderStart","placeholderEnd","toggleModal","toggleSpendTokens","pending","addMatcher","isAnyOf","selectShowModal","token","selectShowSpendTokens","selectPlaceholderDates","selectTokenPriceUSD","selectTokenPriceEth","selectTokenLoading","selectOverlapCheckLoading","_renderTable","cancelBooking","TableRow","border","TableCell","toDateString","align","now","UserAppointments","showError","setShowError","length","TableContainer","component","Paper","Table","maxWidth","maxHeight","TableHead","TableBody","TouchCellWrapper","children","onSelectSlot","cloneElement","Children","only","onTouchEnd","slots","style","localizer","momentLocalizer","moment","handleSelect","toISOString","slice","showDayAccessible","date","modifyEventColor","event","backgroundColor","BookingCalendar","monthlySchedule","useLayoutEffect","document","querySelector","click","renderSubcomponent","useCallback","table","components","dateCellWrapper","props","setTimeout","views","dayPropGetter","eventPropGetter","startAccessor","endAccessor","onRangeChange","range","normalizedStart","normalizedEnd","fetchRangeData","timeslots","selectable","Slide","unmountOnExit","Calendar","elevation","book","flex","hidden","mr","BuyToken","closeModal","buyToken","useState","isError","setError","currVal","setVal","userTyped","setUserTyped","innerContent","Box","id","alert","prices","toFixed","input","TextField","type","error","helperText","onChange","e","isValid","buttons","_calcNumTokens","s","_stringToDateNum","_renderAlertMessage","alertMessage","overlapLoading","RedeemToken","redeemToken","placeholderDates","setMessage","startDate","setStartDate","endDate","setEndDate","setIsValid","hasCheckedRange","setCheckedRange","partyName","setPartyName","enableButton","userTokens","numTokens","notEnoughTokens","_testRedeemTokens","defaultValue","UseToken","Modal","onClose","aria-labelledby","aria-describedby","content","redeem","join","dataObj","DappWrapper","handleAppointmentEvents","addr","cbRef","useRef","current","cb","removeAllListeners","App","store","configureStore","reducer","splashReducer","useTokenReducer","bookingCalendarReducer","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.4b39cc2a.chunk.js","sourcesContent":["import { ethers } from 'ethers';\nimport HotelArtifact from '../../contracts/Hotel.json';\nimport localAddress from '../../contracts/localhost-address.json';\nimport rinkebyAddress from '../../contracts/rinkeby-address.json';\nimport kovanAddress from '../../contracts/kovan-address.json';\n\nexport function findNetwork(chainId) {\n  switch (chainId) {\n    case 4:\n      return rinkebyAddress;\n    case 42:\n      return kovanAddress;\n    default:\n      return localAddress;\n  }\n}\n\nexport async function connectWallet() {\n  const [address] = await window.ethereum.request({\n    method: 'eth_requestAccounts',\n  });\n  return address;\n}\n\nexport function setContractABI() {\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\n  return {\n    contract: new ethers.Contract(\n      findNetwork(Number(window.ethereum.chainId))['Hotel'],\n      HotelArtifact.abi,\n      provider.getSigner(0),\n    ),\n    provider,\n  };\n}\n","import {\n  createSlice,\n  createSelector,\n  createAsyncThunk,\n} from '@reduxjs/toolkit';\nimport { connectWallet, setContractABI } from './splashAPI';\n\nconst VALID_CHAINS = [4, 42, 1337];\n\nexport const fetchUserBalance = createAsyncThunk(\n  'splash/fetchUserBalance',\n  async (address, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const data = (await contractABI.getTokenBalance(address)).toNumber();\n      return data;\n    } catch (err) {\n      console.log({ err });\n    }\n  },\n);\n\nexport const connectEthereum = createAsyncThunk(\n  'splash/connectEthereum',\n  async (arg, thunkAPI) => {\n    const address = await connectWallet();\n    thunkAPI.dispatch(fetchUserBalance(address));\n    return address;\n  },\n);\n\nexport const setValidNetwork = createAsyncThunk(\n  'splash/setValidNetwork',\n  async () => {\n    await connectWallet();\n    return VALID_CHAINS.includes(Number(window.ethereum.chainId));\n  },\n);\n\nconst initialState = {\n  showCalendar: false,\n  userAddress: '',\n  provider: null,\n  userBalance: 0,\n  validChain: null,\n};\nexport const splashSlice = createSlice({\n  name: 'splash',\n  initialState,\n  reducers: {\n    toggleCalendar(state, action) {\n      const showCalendar = action.payload;\n      return { ...state, showCalendar };\n    },\n    resetState(state) {\n      return { ...initialState, validChain: state.validChain };\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(connectEthereum.fulfilled, (state, action) => {\n      const userAddress = action.payload;\n      return { ...state, userAddress, showCalendar: true };\n    });\n    builder.addCase(setValidNetwork.fulfilled, (state, action) => {\n      const validChain = action.payload;\n      return {\n        ...state,\n        validChain,\n      };\n    });\n    builder.addCase(fetchUserBalance.fulfilled, (state, action) => {\n      const userBalance = action.payload;\n      return { ...state, userBalance };\n    });\n  },\n});\n\nexport const { toggleCalendar, resetState } = splashSlice.actions;\n\nexport const hasEthereum = () => window.ethereum;\nexport const selectShowCalendar = (state) => state.splash.showCalendar;\nexport const selectValidChain = (state) => state.splash.validChain;\nexport const selectUserAddress = (state) => state.splash.userAddress;\nexport const selectUserBalance = (state) => state.splash.userBalance || 0;\nexport const selectContractAndProvider = createSelector(\n  [selectValidChain],\n  (eth) => (eth ? setContractABI() : { contract: null, provider: null }),\n);\nexport const selectHotelABI = createSelector(\n  [selectContractAndProvider],\n  ({ contract }) => contract,\n);\nexport const selectProvider = createSelector(\n  [selectContractAndProvider],\n  ({ provider }) => provider,\n);\n\nexport default splashSlice.reducer;\n","import React from 'react';\nimport { Chip, Fade } from '@mui/material';\nimport { Close, AccountBalanceWallet, Hotel } from '@mui/icons-material';\n\nimport styles from '../Splash.module.css';\n\nexport function WalletChip({ userAddress, userBalance, handleDelete }) {\n  if (!userAddress) return '';\n  return (\n    <Fade in={Boolean(userAddress)}>\n      <div className={styles.chip}>\n        <Chip\n          color=\"secondary\"\n          label={`You have ${userBalance} tokens`}\n          icon={<Hotel />}\n          variant=\"raised\"\n        />\n        <Chip\n          color=\"primary\"\n          label={userAddress}\n          onDelete={handleDelete}\n          icon={<AccountBalanceWallet />}\n          deleteIcon={<Close />}\n          variant=\"raised\"\n        />\n      </div>\n    </Fade>\n  );\n}\n","import React from 'react';\nimport { Button, Grid, Typography, Fade } from '@mui/material';\nimport { GitHub, Email, LinkedIn } from '@mui/icons-material';\nimport styles from '../Splash.module.css';\n\nexport function WelcomeMessage({\n  showCalendar,\n  handleConnectEthereum,\n  disableButtons,\n}) {\n  if (showCalendar) {\n    return '';\n  }\n  return (\n    <Fade in={!showCalendar} timeout={1000}>\n      <Grid\n        className={styles.textContainer}\n        container\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        direction=\"column\"\n      >\n        <Typography variant=\"h1\" className={styles.text}>\n          Hotel ETH\n        </Typography>\n        <Typography variant=\"h6\" className={styles.text}>\n          A (fictional) Bed and Breakfast Run on Ethereum\n        </Typography>\n        <Button\n          disabled={disableButtons}\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={handleConnectEthereum}\n        >\n          Connect Wallet\n        </Button>\n        <Grid\n          className={styles.links}\n          container\n          justifyContent=\"space-between\"\n          align-items=\"center\"\n        >\n          <a\n            href=\"https://github.com/LambyPants/Hotel-ETH\"\n            aria-label=\"see the code\"\n          >\n            <GitHub fontSize=\"large\" />\n          </a>\n          <a\n            title=\"contact developer\"\n            aria-label=\"E-mail the developer\"\n            href=\"mailto:appsbylamby@gmail.com\"\n          >\n            <Email fontSize=\"large\" />\n          </a>\n          <a\n            href=\"https://www.linkedin.com/in/ryan-lambert-58202596/\"\n            aria-label=\"developer's LinkedIn\"\n          >\n            <LinkedIn fontSize=\"large\" />\n          </a>\n        </Grid>\n      </Grid>\n    </Fade>\n  );\n}\n","import React from 'react';\nimport { Alert, Collapse, IconButton } from '@mui/material';\nimport { Close } from '@mui/icons-material';\n\nexport function NoEthereumError({ ethExists, open, setOpen }) {\n  if (ethExists) {\n    return '';\n  }\n  return (\n    <Collapse in={open}>\n      <Alert\n        severity=\"error\"\n        action={\n          <IconButton\n            aria-label=\"close\"\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => {\n              setOpen(false);\n            }}\n          >\n            <Close fontSize=\"inherit\" />\n          </IconButton>\n        }\n        sx={{ mb: 2 }}\n      >\n        {' '}\n        No Ethereum wallet was detected. To book a room, please install{' '}\n        <a\n          href=\"http://metamask.io\"\n          aria-label=\"install an ethereum wallet to use this app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          MetaMask\n        </a>\n      </Alert>\n    </Collapse>\n  );\n}\n","import React from 'react';\nimport { Alert, Fade } from '@mui/material';\n\nexport function InvalidNetworkError({ validNetwork }) {\n  if (validNetwork || validNetwork === null) {\n    return '';\n  }\n  return (\n    <Fade in={!validNetwork} timeout={1000}>\n      <Alert severity=\"error\" sx={{ mb: 2 }}>\n        Unsupported Network - Please connect to Rinkeby, Kovan, or localhost\n        ChainID 1337\n      </Alert>\n    </Fade>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useDebounce } from '@react-hook/debounce';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport {\n  selectShowCalendar,\n  resetState,\n  connectEthereum,\n  selectUserAddress,\n  hasEthereum,\n  setValidNetwork,\n  selectUserBalance,\n  selectValidChain,\n} from './splashSlice';\n\nimport styles from './Splash.module.css';\nimport { WalletChip } from './components/WalletChip';\nimport { WelcomeMessage } from './components/WelcomeMessage';\nimport { NoEthereumError } from './components/NoEthereumError';\nimport { InvalidNetworkError } from './components/InvalidNetworkError';\n\nexport function Splash() {\n  const [open, setOpen] = useDebounce(false, 500, true);\n  const showCalendar = useSelector(selectShowCalendar);\n  const userAddress = useSelector(selectUserAddress);\n  const ethExists = useSelector(hasEthereum);\n  const userBalance = useSelector(selectUserBalance);\n  const validNetwork = useSelector(selectValidChain);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (ethExists) {\n      dispatch(setValidNetwork());\n      window.ethereum.on('accountsChanged', ([newAddress]) => {\n        if (newAddress === undefined) {\n          dispatch(resetState());\n          return;\n        }\n        dispatch(connectEthereum());\n      });\n      window.ethereum.on('chainChanged', () => {\n        window.location.reload();\n      });\n    } else {\n      setOpen(true);\n    }\n  }, [ethExists, dispatch, setOpen]);\n\n  return (\n    <div className={styles.wrapper}>\n      <WalletChip\n        userAddress={userAddress}\n        userBalance={userBalance}\n        handleDelete={() => dispatch(resetState())}\n      />\n      <WelcomeMessage\n        disableButtons={!validNetwork}\n        showCalendar={showCalendar}\n        handleConnectEthereum={() => dispatch(connectEthereum())}\n      />\n\n      <div className={styles.warning}>\n        <div>\n          <NoEthereumError\n            ethExists={ethExists}\n            open={open}\n            setOpen={setOpen}\n          />\n          <InvalidNetworkError validNetwork={!ethExists || validNetwork} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\nimport { selectHotelABI, selectUserAddress } from '../splash/splashSlice';\n\nfunction _incrementTime(t, i) {\n  return (\n    Number(new Date(t * 1000 + i * (86400 * 1000))) +\n    Number(new Date(t).getTimezoneOffset()) * 60 * 1000\n  );\n}\n\nfunction _calcBN(hex) {\n  return ethers.BigNumber.from(hex).toNumber();\n}\n\nexport const getRangeAvailability = createAsyncThunk(\n  'calendar/getRangeAvailability',\n  async ({ timestamp, numDays }, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const userAddress = selectUserAddress(thunkAPI.getState());\n      const data = await contractABI.getRangeAvailability(\n        timestamp,\n        Number(numDays),\n      );\n      const obj = {};\n      let eventStartIndex = 0;\n      let eventNumTicker = 0;\n      data.forEach((address, index) => {\n        if (!address.startsWith('0x00')) {\n          if (\n            obj[`${address}-${eventStartIndex}`] &&\n            index === eventStartIndex + eventNumTicker + 1\n          ) {\n            obj[`${address}-${eventStartIndex}`].end = _incrementTime(\n              timestamp,\n              index + 1,\n            );\n            eventNumTicker++;\n          } else {\n            eventStartIndex = index;\n            eventNumTicker = 0;\n            obj[`${address}-${index}`] = {\n              title:\n                userAddress.toLowerCase() === address.toLowerCase()\n                  ? 'Your Booking'\n                  : 'Occupied',\n              allDay: true,\n              start: _incrementTime(timestamp, index),\n              end: _incrementTime(timestamp, index),\n            };\n          }\n        }\n      });\n      return {\n        events: Object.keys(obj).map((key) => obj[key]),\n        prevCallData: { timestamp, numDays },\n      };\n    } catch (err) {\n      console.log({ err });\n      return {\n        events: [],\n        prevCallData: { timestamp, numDays },\n      };\n    }\n  },\n);\n\nexport const fetchUserBookings = createAsyncThunk(\n  'calendar/getUserBookings',\n  async (userAddress, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const data = await contractABI.getAppointmentsByUser(userAddress);\n      return data.flatMap((data) => ({\n        checkIn: _incrementTime(_calcBN(data[0]), 0),\n        checkOut: _incrementTime(_calcBN(data[0]), 1),\n        numDays: _calcBN(data[1]),\n      }));\n    } catch (err) {\n      console.log({ err });\n      return [];\n    }\n  },\n);\n\nconst initialState = {\n  events: [],\n  userBookings: [],\n  showUserBookings: false,\n  prevCallData: { timestamp: 0, numDays: 0 },\n};\nexport const bookingCalendar = createSlice({\n  name: 'calendar',\n  initialState,\n  reducers: {\n    toggleUserBookings(state, action) {\n      const showUserBookings = action.payload;\n      return { ...state, showUserBookings };\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getRangeAvailability.fulfilled, (state, action) => {\n      const { events, prevCallData } = action.payload;\n      return { ...state, events, prevCallData };\n    });\n    builder.addCase(fetchUserBookings.fulfilled, (state, action) => {\n      const userBookings = action.payload;\n      return { ...state, userBookings };\n    });\n  },\n});\n\nexport const { toggleUserBookings } = bookingCalendar.actions;\nexport const selectMonthlySchedule = (state) => state.calendar.events;\nexport const selectUserBookings = (state) => state.calendar.userBookings;\nexport const selectPrevCallData = (state) => state.calendar.prevCallData;\nexport const selectShowUserBookings = (state) =>\n  state.calendar.showUserBookings;\n\nexport default bookingCalendar.reducer;\n","import { ethers } from 'ethers';\nimport { createSlice, createAsyncThunk, isAnyOf } from '@reduxjs/toolkit';\nimport {\n  fetchUserBalance,\n  selectHotelABI,\n  selectUserAddress,\n} from '../splash/splashSlice';\nimport {\n  selectPrevCallData,\n  getRangeAvailability,\n  fetchUserBookings,\n} from '../bookingCalendar/bookingCalendarSlice';\n\n// to allow metamask to handle insufficient funds\n// 1500000 was the old ethers.js default\nconst GAS_LIMIT = 1500000;\n\nconst _refreshUserBalance = (thunkAPI) => {\n  // fetch the users balance upon successful purchase of tokens\n  const userAddress = selectUserAddress(thunkAPI.getState());\n  thunkAPI.dispatch(fetchUserBalance(userAddress));\n};\n\nconst _refreshUserBookings = (thunkAPI) => {\n  // fetch the users balance upon successful purchase of tokens\n  const userAddress = selectUserAddress(thunkAPI.getState());\n  thunkAPI.dispatch(fetchUserBookings(userAddress));\n};\n\nconst _refreshCalendar = (thunkAPI) => {\n  // fetch the users balance upon successful purchase of tokens\n  const prevCallData = selectPrevCallData(thunkAPI.getState());\n  thunkAPI.dispatch(getRangeAvailability(prevCallData));\n};\n\nexport const getBookingTokenPrice = createAsyncThunk(\n  'token/getBookingPrice',\n  async (arg, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const usdPrice = (await contractABI.bookingTokenPrice()).toNumber();\n      const ethPrice = ethers.utils.formatEther(\n        await contractABI.getEthPriceForTokens(1),\n      );\n      return { usdPrice, ethPrice };\n    } catch (err) {\n      console.log({ err });\n      return { usdPrice: 0, ethPrice: 0 };\n    }\n  },\n);\n\nexport const buyNumTokens = createAsyncThunk(\n  'token/buyNumTokens',\n  async (num, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      // grab it again for better accuracy\n      const currEthPrice = await contractABI.getEthPriceForTokens(num);\n      const tx = await contractABI.buyTokens(num, {\n        value: currEthPrice,\n        gasLimit: GAS_LIMIT,\n      });\n      const receipt = await tx.wait();\n      if (receipt.status === 0) {\n        throw new Error('Transaction failed');\n      }\n      _refreshUserBalance(thunkAPI);\n      return true;\n    } catch (err) {\n      console.log({ err });\n    }\n  },\n);\n\nexport const checkTokenRange = createAsyncThunk(\n  'token/checkTokenRange',\n  async ({ name, timestamp, numDays }, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      await contractABI.callStatic.bookAppointment(name, timestamp, numDays);\n      return true;\n    } catch (err) {\n      console.log({ err });\n      return false;\n    }\n  },\n);\n\nexport const redeemTokens = createAsyncThunk(\n  'token/redeemTokens',\n  async ({ name, timestamp, numDays }, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const tx = await contractABI.bookAppointment(name, timestamp, numDays, {\n        gasLimit: GAS_LIMIT,\n      });\n      const receipt = await tx.wait();\n      if (receipt.status === 0) {\n        throw new Error('Transaction failed');\n      }\n      _refreshUserBalance(thunkAPI);\n      _refreshCalendar(thunkAPI);\n      return true;\n    } catch (err) {\n      console.log({ err });\n      return false;\n    }\n  },\n);\n\nexport const verifyBooking = createAsyncThunk(\n  'token/buyNumTokens',\n  async (num, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const tx = await contractABI.buyTokens(num, {\n        value: ethers.utils.parseEther('1.0'),\n      });\n      const receipt = await tx.wait();\n      if (receipt.status === 0) {\n        throw new Error('Transaction failed');\n      }\n      return true;\n    } catch (err) {\n      console.log({ err });\n    }\n  },\n);\n\nexport const refundTokens = createAsyncThunk(\n  'token/refundTokens',\n  async (deleteIndex, thunkAPI) => {\n    try {\n      const contractABI = selectHotelABI(thunkAPI.getState());\n      const tx = await contractABI.refundAppointment(deleteIndex, {\n        gasLimit: GAS_LIMIT,\n      });\n      const receipt = await tx.wait();\n      if (receipt.status === 0) {\n        throw new Error('Transaction failed');\n      }\n      _refreshUserBalance(thunkAPI);\n      _refreshUserBookings(thunkAPI);\n      return true;\n    } catch (err) {\n      console.log({ err });\n      return false;\n    }\n  },\n);\n\nconst initialState = {\n  showModal: false,\n  showSpendTokens: false,\n  tokenLoading: false,\n  overlapCheckLoading: false,\n  tokenPrice: { usdPrice: 0, ethPrice: 0 },\n  placeholderStart: '',\n  placeholderEnd: '',\n};\nexport const useTokenSlice = createSlice({\n  name: 'token',\n  initialState,\n  reducers: {\n    toggleModal(state, action) {\n      const showModal = action.payload;\n      return { ...state, showModal, showSpendTokens: false };\n    },\n    toggleSpendTokens(state, action) {\n      const { showSpendTokens, placeholderStart, placeholderEnd } =\n        action.payload;\n      return {\n        ...state,\n        showSpendTokens,\n        showModal: showSpendTokens,\n        placeholderStart,\n        placeholderEnd,\n      };\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(checkTokenRange.pending, (state) => {\n      return { ...state, overlapCheckLoading: true };\n    });\n    builder.addCase(checkTokenRange.fulfilled, (state) => {\n      return { ...state, overlapCheckLoading: false };\n    });\n    builder.addCase(getBookingTokenPrice.fulfilled, (state, action) => {\n      const tokenPrice = action.payload;\n      return { ...state, tokenPrice };\n    });\n\n    builder.addMatcher(\n      isAnyOf(buyNumTokens.pending, redeemTokens.pending, refundTokens.pending),\n      (state) => {\n        return { ...state, tokenLoading: true };\n      },\n    );\n    builder.addMatcher(\n      isAnyOf(\n        buyNumTokens.fulfilled,\n        redeemTokens.fulfilled,\n        refundTokens.fulfilled,\n      ),\n      (state) => {\n        return { ...state, tokenLoading: false };\n      },\n    );\n  },\n});\n\nexport const { toggleModal, toggleSpendTokens } = useTokenSlice.actions;\n\nexport const selectShowModal = (state) => state.token.showModal;\nexport const selectShowSpendTokens = (state) => state.token.showSpendTokens;\nexport const selectPlaceholderDates = (state) => ({\n  start: state.token.placeholderStart,\n  end: state.token.placeholderEnd,\n});\nexport const selectTokenPriceUSD = (state) => state.token.tokenPrice.usdPrice;\nexport const selectTokenPriceEth = (state) => state.token.tokenPrice.ethPrice;\nexport const selectTokenLoading = (state) => state.token.tokenLoading;\nexport const selectOverlapCheckLoading = (state) =>\n  state.token.overlapCheckLoading;\n\nexport default useTokenSlice.reducer;\n","import React from 'react';\nimport { useDebounce } from '@react-hook/debounce';\n\nimport {\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Alert,\n} from '@mui/material';\n\nfunction _renderTable(userBookings, cancelBooking, tokenLoading) {\n  return userBookings.map((data, index) => (\n    <TableRow\n      key={data.checkIn}\n      sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n    >\n      <TableCell>{new Date(data.checkIn).toDateString()}</TableCell>\n      <TableCell align=\"center\">\n        {new Date(data.checkOut).toDateString()}\n      </TableCell>\n      <TableCell align=\"right\">{data.numDays}</TableCell>\n      <TableCell align=\"right\">\n        <Button\n          color=\"secondary\"\n          aria-label=\"cancel booking and receive back tokens\"\n          disabled={Boolean(data.checkIn < Date.now() || tokenLoading)}\n          onClick={() => {\n            cancelBooking(index);\n          }}\n        >\n          Cancel & Refund\n        </Button>\n      </TableCell>\n    </TableRow>\n  ));\n}\n\nexport function UserAppointments({\n  userBookings,\n  cancelBooking,\n  tokenLoading,\n}) {\n  const [showError, setShowError] = useDebounce(false, 500);\n  setShowError(!userBookings.length);\n  return (\n    <TableContainer component={Paper}>\n      <Table\n        sx={{ maxWidth: '100%', maxHeight: '100%' }}\n        aria-label=\"your bookings\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell>Check in</TableCell>\n            <TableCell align=\"center\">Check out</TableCell>\n            <TableCell align=\"right\">Total days</TableCell>\n            <TableCell align=\"right\">Manage</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {_renderTable(userBookings, cancelBooking, tokenLoading)}\n        </TableBody>\n      </Table>\n      {showError ? (\n        <Alert severity=\"error\">You do not have any bookings yet.</Alert>\n      ) : (\n        ''\n      )}\n      {tokenLoading && !showError ? (\n        <Alert severity=\"info\">\n          Processing your transaction - track its progress on MetaMask\n        </Alert>\n      ) : (\n        ''\n      )}\n    </TableContainer>\n  );\n}\n","import { cloneElement, Children } from 'react';\n\n// react-big-calendar doesn't handle mobile select events\n// see https://github.com/jquense/react-big-calendar/issues/1434\n// this is a hack to avoid forking that repo\nexport function TouchCellWrapper({ children, value, onSelectSlot }) {\n  return cloneElement(Children.only(children), {\n    onTouchEnd: () => onSelectSlot({ action: 'click', slots: [value] }),\n    style: {\n      className: `${children}`,\n    },\n  });\n}\n","import React, { useCallback, useEffect, useLayoutEffect } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport { Paper, Button, Fade, Slide } from '@mui/material';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport TokenIcon from '@mui/icons-material/Token';\nimport RoomServiceIcon from '@mui/icons-material/RoomService';\nimport TodayIcon from '@mui/icons-material/Today';\nimport moment from 'moment';\nimport { selectShowCalendar, selectUserAddress } from '../splash/splashSlice';\nimport {\n  getRangeAvailability,\n  selectMonthlySchedule,\n  selectShowUserBookings,\n  toggleUserBookings,\n  selectUserBookings,\n  fetchUserBookings,\n} from './bookingCalendarSlice';\nimport {\n  refundTokens,\n  selectTokenLoading,\n  toggleModal,\n  toggleSpendTokens,\n} from '../useTokens/useTokenSlice';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styles from './BookingCalendar.module.css';\nimport { UserAppointments } from './components/UserAppointments';\nimport { TouchCellWrapper } from './components/TouchCellWrapper';\n\nconst localizer = momentLocalizer(moment);\n\nfunction handleSelect({ start, end }, dispatch) {\n  if (start < Date.now() - 86400 * 1000) return;\n  dispatch(\n    toggleSpendTokens({\n      showSpendTokens: true,\n      placeholderStart: start.toISOString().slice(0, 10),\n      placeholderEnd: end.toISOString().slice(0, 10),\n    }),\n  );\n}\n\nconst showDayAccessible = (date) => {\n  if (date < Number(new Date()) - 86400 * 1000)\n    return {\n      className: 'past-day',\n    };\n  else\n    return {\n      className: 'available-day',\n    };\n};\n\nconst modifyEventColor = (event) => {\n  if (event.title === 'Your Booking')\n    return {\n      style: {\n        backgroundColor: '#9c27b0',\n      },\n    };\n};\n\nfunction fetchRangeData({ start, end }, dispatch) {\n  const normalizedStart = new Date(start.toISOString().slice(0, 10));\n  const normalizedEnd = new Date(end.toISOString().slice(0, 10));\n  const numDays = (normalizedEnd - normalizedStart) / (86400 * 1000);\n  dispatch(\n    getRangeAvailability({\n      timestamp: normalizedStart / 1000,\n      numDays,\n    }),\n  );\n}\n\nexport function BookingCalendar() {\n  const showCalendar = useSelector(selectShowCalendar);\n  const monthlySchedule = useSelector(selectMonthlySchedule);\n  const showUserBookings = useSelector(selectShowUserBookings);\n  const userBookings = useSelector(selectUserBookings);\n  const userAddress = useSelector(selectUserAddress);\n  const tokenLoading = useSelector(selectTokenLoading);\n  const dispatch = useDispatch();\n  useLayoutEffect(() => {\n    if (showCalendar) {\n      // react-big-calendar doesn't fire onRangeChange on mount\n      // this is definitely a 'not recommended for production' hack to avoid forking their repo\n      const todayButton = document.querySelector('.rbc-btn-group button');\n      if (todayButton) document.querySelector('.rbc-btn-group button').click();\n    }\n  }, [showCalendar, userAddress]);\n\n  useEffect(() => {\n    if (showUserBookings) {\n      dispatch(fetchUserBookings(userAddress));\n    }\n  }, [showUserBookings, dispatch, userAddress]);\n  const renderSubcomponent = useCallback(() => {\n    return !showUserBookings ? (\n      <Calendar\n        components={{\n          dateCellWrapper: (props) => (\n            <TouchCellWrapper\n              {...props}\n              onSelectSlot={({ action, slots }) => {\n                setTimeout(() => {\n                  if (action === 'click') {\n                    const [start, end] = slots;\n                    const data = {\n                      start,\n                      end: end || new Date(Number(start) + 86400 * 1000),\n                    };\n                    handleSelect(data, dispatch);\n                  }\n                }, 0);\n              }}\n            />\n          ),\n        }}\n        views={['month']}\n        localizer={localizer}\n        events={monthlySchedule}\n        dayPropGetter={showDayAccessible}\n        eventPropGetter={modifyEventColor}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        onRangeChange={(range) => {\n          fetchRangeData(range, dispatch);\n        }}\n        timeslots={1}\n        selectable={true}\n        onSelectSlot={(data) => {\n          handleSelect(data, dispatch);\n        }}\n      />\n    ) : (\n      <Fade in={showUserBookings}>\n        <div className={styles.table}>\n          <UserAppointments\n            userBookings={userBookings}\n            tokenLoading={tokenLoading}\n            cancelBooking={(index) => {\n              dispatch(refundTokens(index));\n            }}\n          />\n        </div>\n      </Fade>\n    );\n  }, [dispatch, monthlySchedule, showUserBookings, userBookings, tokenLoading]);\n\n  return (\n    <Slide direction=\"up\" in={showCalendar} unmountOnExit>\n      <Paper className={styles.Calendar} elevation={3}>\n        <div className={styles.book}>\n          <Button\n            variant=\"text\"\n            color=\"primary\"\n            aria-label=\"Back\"\n            onClick={() => dispatch(toggleUserBookings(!showUserBookings))}\n          >\n            <span className={styles.flex} hidden={!showUserBookings}>\n              <TodayIcon /> Back to Calendar\n            </span>\n            <span className={styles.flex} hidden={showUserBookings}>\n              <RoomServiceIcon />\n              Your Reservations\n            </span>\n          </Button>\n          <Button\n            color=\"secondary\"\n            aria-label=\"add\"\n            onClick={() => {\n              dispatch(toggleModal(true));\n            }}\n          >\n            <TokenIcon sx={{ mr: 1 }} />\n            Buy Tokens\n          </Button>\n        </div>\n        {renderSubcomponent()}\n      </Paper>\n    </Slide>\n  );\n}\n","import React, { useState } from 'react';\nimport { Grid, Box, Typography, TextField, Button, Alert } from '@mui/material';\nimport styles from '../UseTokens.module.css';\n\nexport function BuyToken({\n  ethPrice,\n  usdPrice,\n  closeModal,\n  buyToken,\n  tokenLoading,\n}) {\n  const [isError, setError] = useState(false);\n  const [currVal, setVal] = useState(1);\n  const [userTyped, setUserTyped] = useState(false);\n\n  return (\n    <Grid\n      className={styles.innerContent}\n      container={true}\n      justifyContent=\"space-between\"\n      alignItems=\"space-between\"\n      direction=\"column\"\n    >\n      <Box>\n        <Typography id=\"modal-modal-title\" variant=\"h4\">\n          How many tokens would you like to buy?\n        </Typography>\n\n        <Grid\n          container={true}\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          className={styles.alert}\n        >\n          <Alert severity=\"info\">\n            {userTyped && tokenLoading\n              ? 'Processing your transaction - track its progress on MetaMask'\n              : 'Buying in advance allows you to share / gift tokens to others and secures the current price.'}\n          </Alert>\n          <Grid\n            className={styles.prices}\n            container={true}\n            justifyContent=\"space-between\"\n            align-items=\"center\"\n          >\n            <Typography id=\"modal-modal-title\" variant=\"subtitle1\">\n              Price in USD ${isError ? usdPrice : usdPrice * currVal}\n            </Typography>\n            <Typography id=\"modal-modal-title\" variant=\"subtitle1\">\n              Price in ETH{' '}\n              {isError\n                ? Number(ethPrice).toFixed(4)\n                : Number(ethPrice * currVal).toFixed(4)}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Box>\n      <Grid\n        className={styles.input}\n        container={true}\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        direction=\"column\"\n      >\n        <TextField\n          type=\"number\"\n          error={isError}\n          helperText=\"1 token can be redeemed for 1 night of accomodation\"\n          id=\"buy-token\"\n          label=\"Number of booking tokens\"\n          onChange={(e) => {\n            setUserTyped(true);\n            const isValid = Number(e.target.value) > 0;\n            setVal(e.target.value);\n            setError(!isValid);\n          }}\n        ></TextField>\n      </Grid>\n      <div className={styles.buttons}>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disabled={!userTyped || isError || tokenLoading}\n          onClick={() => {\n            buyToken(currVal);\n          }}\n        >\n          Buy Now\n        </Button>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={closeModal}>\n          Cancel\n        </Button>\n      </div>\n    </Grid>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Grid, Box, Typography, TextField, Button, Alert } from '@mui/material';\nimport styles from '../UseTokens.module.css';\n\nfunction notEnoughTokens(userTokens, start, end) {\n  const numTokens = _calcNumTokens(start, end); // number of days between start and end\n  return numTokens && numTokens > userTokens;\n}\n\nfunction _calcNumTokens(s, e) {\n  return (e - s) / 86400000; // number of days between start and end\n}\n\nfunction _stringToDateNum(s) {\n  return Number(new Date(s));\n}\n\nfunction _renderAlertMessage(alertMessage, tokenLoading, overlapLoading) {\n  if (overlapLoading) {\n    return 'Checking dates for overlaps...';\n  }\n  if (tokenLoading) {\n    return 'Processing your transaction - track its progress on MetaMask';\n  }\n  return alertMessage;\n}\n\nexport function RedeemToken({\n  userBalance,\n  closeModal,\n  redeemToken,\n  checkTokenRange,\n  tokenLoading,\n  placeholderDates,\n  overlapLoading,\n}) {\n  const { start, end } = placeholderDates;\n  const [alertMessage, setMessage] = useState('');\n  const [startDate, setStartDate] = useState(_stringToDateNum(start));\n  const [endDate, setEndDate] = useState(_stringToDateNum(end));\n  const [isValid, setIsValid] = useState(false);\n  const [hasCheckedRange, setCheckedRange] = useState(false);\n  const [partyName, setPartyName] = useState('Anonymous');\n  // only allow redemption when we have a start + end date with valid inputs and nothing is loading\n  const enableButton =\n    startDate && endDate && isValid && !tokenLoading && !overlapLoading;\n  useEffect(() => {\n    async function _testRedeemTokens(checkTokenRange) {\n      const numDays = _calcNumTokens(startDate, endDate);\n      const data = {\n        name: 'Anonymous',\n        timestamp: startDate / 1000,\n        numDays,\n      };\n      const res = await checkTokenRange(data);\n      if (res) {\n        setIsValid(true);\n        setMessage(`You will use ${numDays} token(s)`);\n      } else {\n        setMessage('Date range overlaps with another booking');\n        setIsValid(false);\n      }\n    }\n    // require both start and end to exist\n    if (startDate && endDate && !overlapLoading) {\n      if (!startDate || !endDate) {\n        setMessage('Please provide a start and end date');\n        setIsValid(false);\n      } else if (startDate >= endDate) {\n        setMessage('Start date must be before end date');\n        setIsValid(false);\n      } else if (startDate < new Date(new Date().toISOString().slice(0, 10))) {\n        setMessage('Start date cannot be before today');\n        setIsValid(false);\n      } else if (notEnoughTokens(userBalance, startDate, endDate)) {\n        setMessage('You do not have enough tokens for that date range');\n        setIsValid(false);\n      } else if (!hasCheckedRange) {\n        setCheckedRange(true);\n        _testRedeemTokens(checkTokenRange);\n      }\n    }\n  }, [\n    startDate,\n    endDate,\n    userBalance,\n    overlapLoading,\n    checkTokenRange,\n    hasCheckedRange,\n  ]);\n  return (\n    <Grid\n      className={styles.innerContent}\n      container={true}\n      justifyContent=\"space-between\"\n      alignItems=\"space-between\"\n      direction=\"column\"\n    >\n      <Box>\n        <Typography id=\"modal-modal-title\" variant=\"h4\">\n          How many nights do you want to stay?\n        </Typography>\n\n        <Grid\n          container={true}\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          className={styles.alert}\n        >\n          <Alert severity={!isValid && !overlapLoading ? 'error' : 'info'}>\n            {_renderAlertMessage(alertMessage, tokenLoading, overlapLoading)}\n          </Alert>\n        </Grid>\n      </Box>\n      <TextField\n        type=\"text\"\n        helperText=\"How we greet you when you arrive\"\n        label=\"Party name (optional)\"\n        id=\"date-start\"\n        onChange={(e) => {\n          setPartyName(Number(e.target.value));\n        }}\n      ></TextField>\n      <Grid\n        className={styles.input}\n        container={true}\n        justifyContent=\"space-evenly\"\n        alignItems=\"center\"\n        direction=\"row\"\n      >\n        <TextField\n          type=\"date\"\n          error={!isValid && !overlapLoading}\n          helperText=\"The day you check-in\"\n          id=\"date-start\"\n          defaultValue={placeholderDates.start}\n          onChange={(e) => {\n            setCheckedRange(false);\n            setStartDate(_stringToDateNum(e.target.value));\n          }}\n        ></TextField>\n        <TextField\n          type=\"date\"\n          error={!isValid && !overlapLoading}\n          helperText=\"The day you check-out\"\n          id=\"date-end\"\n          defaultValue={placeholderDates.end}\n          onChange={(e) => {\n            setCheckedRange(false);\n            setEndDate(_stringToDateNum(e.target.value));\n          }}\n        ></TextField>\n      </Grid>\n      <div className={styles.buttons}>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disabled={!enableButton}\n          onClick={() => {\n            const data = {\n              name: partyName || 'Anonymous',\n              timestamp: startDate / 1000,\n              numDays: _calcNumTokens(startDate, endDate),\n            };\n            redeemToken(data);\n          }}\n        >\n          Use Tokens\n        </Button>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={closeModal}>\n          Cancel\n        </Button>\n      </div>\n    </Grid>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Modal, Paper } from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport {\n  selectShowModal,\n  selectShowSpendTokens,\n  toggleModal,\n  getBookingTokenPrice,\n  buyNumTokens,\n  selectTokenPriceUSD,\n  selectTokenPriceEth,\n  selectPlaceholderDates,\n  redeemTokens,\n  checkTokenRange,\n  selectTokenLoading,\n  selectOverlapCheckLoading,\n} from './useTokenSlice';\nimport { selectUserBalance } from '../splash/splashSlice';\nimport { BuyToken } from './components/BuyTokens';\nimport styles from './UseTokens.module.css';\nimport { RedeemToken } from './components/RedeemToken';\n\nexport function UseToken() {\n  const showModal = useSelector(selectShowModal);\n  const usdPrice = useSelector(selectTokenPriceUSD);\n  const ethPrice = useSelector(selectTokenPriceEth);\n  const dispatch = useDispatch();\n  const userBalance = useSelector(selectUserBalance);\n  const showSpendTokens = useSelector(selectShowSpendTokens);\n  const placeholderDates = useSelector(selectPlaceholderDates);\n  const tokenLoading = useSelector(selectTokenLoading);\n  const overlapLoading = useSelector(selectOverlapCheckLoading);\n\n  useEffect(() => {\n    if (showModal && !showSpendTokens) {\n      dispatch(getBookingTokenPrice());\n    }\n  }, [showModal, showSpendTokens, dispatch]);\n  return (\n    <Modal\n      open={showModal}\n      onClose={() => {\n        dispatch(toggleModal(!showModal));\n      }}\n      aria-labelledby=\"buy or use tokens\"\n      aria-describedby=\"buy or use tokens\"\n      elevation={3}\n    >\n      <div>\n        <Paper\n          className={[\n            styles.content,\n            showSpendTokens ? styles.redeem : '',\n          ].join(' ')}\n        >\n          {!showSpendTokens ? (\n            <BuyToken\n              usdPrice={usdPrice}\n              ethPrice={ethPrice}\n              tokenLoading={tokenLoading}\n              buyToken={async (arg) => {\n                await dispatch(buyNumTokens(arg));\n                dispatch(toggleModal(!showModal));\n              }}\n              closeModal={() => {\n                dispatch(toggleModal(!showModal));\n              }}\n            />\n          ) : (\n            <RedeemToken\n              userBalance={userBalance}\n              placeholderDates={placeholderDates}\n              tokenLoading={tokenLoading}\n              overlapLoading={overlapLoading}\n              redeemToken={async (dataObj) => {\n                const { payload } = await dispatch(redeemTokens(dataObj));\n                if (payload) {\n                  dispatch(toggleModal(!showModal));\n                }\n              }}\n              checkTokenRange={async (dataObj) => {\n                const { payload } = await dispatch(checkTokenRange(dataObj));\n                return payload;\n              }}\n              closeModal={() => {\n                dispatch(toggleModal(!showModal));\n              }}\n            />\n          )}\n        </Paper>\n      </div>\n    </Modal>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectHotelABI, selectUserAddress } from '../splash/splashSlice';\nimport {\n  selectPrevCallData,\n  getRangeAvailability,\n} from '../bookingCalendar/bookingCalendarSlice';\n\nexport function DappWrapper(props) {\n  const contractABI = useSelector(selectHotelABI);\n  const prevCallData = useSelector(selectPrevCallData);\n  const userAddress = useSelector(selectUserAddress);\n  const dispatch = useDispatch();\n  const handleAppointmentEvents = (addr) => {\n    // only refresh the UI from the AppointmentScheduled or AppointmentRefunded event when the addr doesn't match our current address\n    // this is because we grab that data automatically after redeeming a token and waiting for the event can be slow\n    if (prevCallData.numDays > 0 && addr !== userAddress.toLowerCase()) {\n      dispatch(getRangeAvailability(prevCallData));\n    }\n  };\n\n  // the useRef method of updating our callback function\n  // we want the handleAppointmentEvents to contain all up-to-date data\n  const cbRef = useRef(handleAppointmentEvents);\n  useEffect(() => {\n    cbRef.current = handleAppointmentEvents;\n  });\n\n  useEffect(() => {\n    if (contractABI) {\n      const cb = (e) => cbRef.current(e);\n      contractABI.on('AppointmentScheduled', cb);\n      contractABI.on('AppointmentRefunded', cb);\n    }\n\n    return function cleanup() {\n      if (contractABI) {\n        contractABI.removeAllListeners();\n      }\n    };\n  }, [contractABI]);\n  return <div>{props.children}</div>;\n}\n","import React from 'react';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport './App.css';\nimport { Splash } from './features/splash/Splash';\nimport { BookingCalendar } from './features/bookingCalendar/BookingCalendar';\nimport { UseToken } from './features/useTokens/UseToken';\nimport { DappWrapper } from './features/dappWrapper/DappWrapper';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DappWrapper>\n        <Splash />\n        <BookingCalendar />\n        <UseToken />\n      </DappWrapper>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport splashReducer from '../features/splash/splashSlice';\nimport useTokenReducer from '../features/useTokens/useTokenSlice';\nimport bookingCalendarReducer from '../features/bookingCalendar/bookingCalendarSlice';\n\nexport const store = configureStore({\n  reducer: {\n    splash: splashReducer,\n    token: useTokenReducer,\n    calendar: bookingCalendarReducer,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"UseTokens_content__3JBH8\",\"innerContent\":\"UseTokens_innerContent__Go1yb\",\"alert\":\"UseTokens_alert__2RisD\",\"buttons\":\"UseTokens_buttons__4jtYU\",\"input\":\"UseTokens_input__1Ye3r\",\"prices\":\"UseTokens_prices__2cu2o\",\"redeem\":\"UseTokens_redeem__3diTW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Splash_wrapper__1g8KW\",\"textContainer\":\"Splash_textContainer__PMmtK\",\"text\":\"Splash_text__1SxHA\",\"warning\":\"Splash_warning__HdRf4\",\"MuiAlert-icon\":\"Splash_MuiAlert-icon__3O6v8\",\"links\":\"Splash_links__3cg8W\",\"chip\":\"Splash_chip__21xhv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Calendar\":\"BookingCalendar_Calendar__3PpNa\",\"book\":\"BookingCalendar_book__1-m3Y\",\"table\":\"BookingCalendar_table__PXyE2\",\"flex\":\"BookingCalendar_flex__320yz\"};"],"sourceRoot":""}